j<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>For You â™¡</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
<style>
:root {
  --gold:       #e2b97a;
  --gold-dim:   #9a7340;
  --gold-glow:  rgba(226,185,122,0.15);
  --gold-soft:  rgba(226,185,122,0.08);
  --rose:       #c98a8a;
  --rose-dim:   #8f5e5e;
  --rose-glow:  rgba(201,138,138,0.14);
  --bg:         #080a0d;
  --bg2:        #0e1015;
  --bg3:        #161820;
  --surface:    rgba(255,255,255,0.035);
  --surface2:   rgba(255,255,255,0.065);
  --surface3:   rgba(226,185,122,0.06);
  --border:     rgba(226,185,122,0.10);
  --border2:    rgba(226,185,122,0.20);
  --border3:    rgba(226,185,122,0.32);
  --text:       #ede8e0;
  --text-dim:   rgba(237,232,224,0.52);
  --text-muted: rgba(237,232,224,0.28);
  --nav-h:      72px;
}

* { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }

html, body {
  height: 100%;
  background: var(--bg);
  color: var(--text);
  font-family: 'Inter', sans-serif;
  overflow: hidden;
}

/* â”€â”€ SPLASH â”€â”€ */
#splash {
  position: fixed; inset: 0; z-index: 999;
  background: radial-gradient(ellipse at 50% 55%, #0f1219 0%, var(--bg) 70%);
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 0;
  transition: opacity 1s ease, transform 1s ease;
}
#splash.gone { opacity: 0; pointer-events: none; }

.splash-heart {
  font-size: 3.5rem; color: var(--rose);
  filter: drop-shadow(0 0 32px rgba(201,138,138,0.65));
  opacity: 0;
  animation: splashHeart 1s ease 0.3s forwards;
}
@keyframes splashHeart {
  from { opacity:0; transform:scale(0.4); }
  60%  { transform:scale(1.15); }
  to   { opacity:1; transform:scale(1); }
}
.splash-name {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(2.8rem, 10vw, 5rem);
  font-style: italic; font-weight: 300;
  color: var(--gold); opacity: 0;
  letter-spacing: 3px; margin-top: 20px;
  animation: splashName 1s ease 0.7s forwards;
}
@keyframes splashName {
  from { opacity:0; transform:translateY(16px); }
  to   { opacity:1; transform:translateY(0); }
}
.splash-sub {
  font-size: 0.78rem; letter-spacing: 4px;
  text-transform: uppercase; color: var(--text-muted);
  margin-top: 16px; opacity: 0;
  animation: splashName 0.8s ease 1.1s forwards;
}
.splash-btn {
  margin-top: 56px; padding: 16px 48px;
  border: 1px solid var(--border3); border-radius: 50px;
  background: var(--gold-soft); color: var(--gold);
  font-family: 'Inter', sans-serif; font-size: 0.85rem;
  letter-spacing: 3px; text-transform: uppercase;
  cursor: pointer; opacity: 0;
  animation: splashName 0.8s ease 1.7s forwards;
  transition: background 0.3s, border-color 0.3s, box-shadow 0.3s;
}
.splash-btn:hover {
  background: rgba(226,185,122,0.14);
  border-color: var(--gold);
  box-shadow: 0 0 40px rgba(226,185,122,0.2), inset 0 0 20px rgba(226,185,122,0.05);
}

/* â”€â”€ APP SHELL â”€â”€ */
#app {
  position: fixed; inset: 0;
  display: flex; flex-direction: column;
  opacity: 0; transition: opacity 0.8s ease;
}
#app.visible { opacity: 1; }

#pages { flex: 1; position: relative; overflow: hidden; }

.page {
  position: absolute; inset: 0;
  overflow-y: auto; overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  opacity: 0; transform: translateX(30px);
  transition: opacity 0.45s ease, transform 0.45s ease;
  pointer-events: none;
  padding-bottom: calc(var(--nav-h) + 20px);
}
.page.active { opacity: 1; transform: translateX(0); pointer-events: all; }
.page.exit-left  { opacity:0; transform:translateX(-30px); }
.page.exit-right { opacity:0; transform:translateX(30px); }

/* â”€â”€ BOTTOM NAV â”€â”€ */
#nav {
  position: relative; z-index: 100;
  height: var(--nav-h);
  background: rgba(8,10,13,0.95);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  border-top: 1px solid var(--border2);
  display: flex; align-items: center; justify-content: space-around;
  padding: 0 8px; flex-shrink: 0;
}
.nav-item {
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 5px; flex: 1; padding: 8px 4px;
  cursor: pointer; border: none; background: transparent;
  transition: all 0.25s ease; position: relative;
}
.nav-icon {
  font-size: 1.4rem;
  transition: transform 0.3s ease, filter 0.3s ease;
  filter: grayscale(1) opacity(0.4); line-height: 1;
}
.nav-label {
  font-size: 0.62rem; letter-spacing: 1.5px;
  text-transform: uppercase; color: var(--text-muted); transition: color 0.3s;
}
.nav-item.active .nav-icon {
  filter: grayscale(0) opacity(1) drop-shadow(0 0 8px rgba(226,185,122,0.7));
  transform: translateY(-2px) scale(1.1);
}
.nav-item.active .nav-label { color: var(--gold); }
.nav-pip {
  position: absolute; bottom: 4px;
  width: 4px; height: 4px; border-radius: 50%;
  background: var(--gold); opacity: 0; transition: opacity 0.3s;
}
.nav-item.active .nav-pip { opacity: 1; }

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   PAGE 0 â€” INTRO / SCROLLYTELLING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#page-intro { background: var(--bg); }

#scroll-story { height: 650vh; position: relative; }

#story-sticky {
  position: sticky; top: 0;
  height: 100svh; width: 100%; overflow: hidden;
}

#particle-canvas { position:fixed; inset:0; pointer-events:none; z-index:0; }

.scene {
  position: absolute; inset: 0;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  padding: 40px 32px; pointer-events: none;
}
.scene-eyebrow {
  font-size: 0.72rem; letter-spacing: 5px;
  text-transform: uppercase; color: var(--gold);
  opacity: 0; transform: translateY(14px);
  transition: opacity 0.8s ease, transform 0.8s ease;
  margin-bottom: 20px;
}
.scene-headline {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(2.6rem, 8vw, 5.5rem);
  font-weight: 300; font-style: italic;
  color: var(--text); text-align: center;
  line-height: 1.18;
  opacity: 0; transform: translateY(22px);
  transition: opacity 0.8s ease 0.12s, transform 0.8s ease 0.12s;
  max-width: 700px;
}
.scene-sub {
  font-size: clamp(0.95rem, 2.2vw, 1.2rem);
  color: var(--text-dim); text-align: center;
  max-width: 500px; line-height: 1.75;
  margin-top: 22px;
  opacity: 0; transform: translateY(14px);
  transition: opacity 0.8s ease 0.22s, transform 0.8s ease 0.22s;
  font-weight: 300;
}
.scene-glyph {
  font-size: clamp(2.8rem, 7vw, 5rem);
  opacity: 0; transform: scale(0.6);
  transition: opacity 0.7s ease, transform 0.7s cubic-bezier(0.34,1.56,0.64,1);
  margin-bottom: 28px;
  filter: drop-shadow(0 0 30px rgba(201,138,138,0.65));
}
.scene.active .scene-eyebrow,
.scene.active .scene-headline,
.scene.active .scene-sub   { opacity:1; transform:translateY(0); }
.scene.active .scene-glyph { opacity:1; transform:scale(1); }
.scene-line {
  width: 0; height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  margin: 22px auto 0;
  transition: width 0.9s ease 0.3s;
}
.scene.active .scene-line { width: 120px; }

#story-dots, #story-dots-2 {
  position: absolute; right: 22px; top: 50%;
  transform: translateY(-50%);
  display: flex; flex-direction: column; gap: 9px; z-index:10;
}
.sdot {
  width: 5px; height: 5px; border-radius: 50%;
  background: rgba(255,255,255,0.2);
  transition: background 0.4s, transform 0.4s, height 0.4s;
}
.sdot.active {
  background: var(--gold); transform: scale(1.4);
  height: 14px; border-radius: 3px;
}

#scroll-hint, #scroll-hint-2 {
  position: absolute; bottom: 32px; left: 50%;
  transform: translateX(-50%);
  display: flex; flex-direction: column; align-items: center; gap: 7px;
  color: var(--text-muted); font-size: 0.65rem; letter-spacing: 3px;
  text-transform: uppercase;
  animation: hintBounce 2.2s ease-in-out infinite;
  transition: opacity 0.5s;
}
@keyframes hintBounce {
  0%,100% { transform: translateX(-50%) translateY(0); }
  50%      { transform: translateX(-50%) translateY(7px); }
}
#scroll-hint svg, #scroll-hint-2 svg { width:18px; height:18px; stroke:currentColor; fill:none; stroke-width:1.5; }

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   PAGE 1 â€” OUR STORY SCROLLYTELLING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#page-story { background: var(--bg2); }

/* The scrollytelling wrapper for story page */
#story-scroll { height: 700vh; position: relative; }

#story-sticky-2 {
  position: sticky; top: 0;
  height: calc(100svh - var(--nav-h));
  width: 100%; overflow: hidden;
}

/* Story scenes â€” image left, text right layout */
.story-scene {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  padding: 20px 28px;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.7s ease;
}
.story-scene.active { opacity: 1; }

/* Header scene â€” centered */
.story-scene.centered {
  flex-direction: column; text-align: center;
}

/* Split layout */
.story-scene.split {
  gap: 28px;
}
.story-scene.split.flipped { flex-direction: row-reverse; }

/* Photo panel */
.ss-photo-wrap {
  flex: 0 0 auto;
  width: min(62vw, 400px);
  border-radius: 16px; overflow: hidden;
  border: 1px solid var(--border2);
  box-shadow: 0 20px 60px rgba(0,0,0,0.6), 0 0 40px var(--gold-glow);
  transform: translateY(30px) scale(0.95);
  transition: transform 0.9s cubic-bezier(0.34,1.2,0.64,1) 0.1s,
              box-shadow 0.9s ease 0.1s, opacity 0.7s ease;
  opacity: 0;
}
.story-scene.active .ss-photo-wrap {
  transform: translateY(0) scale(1); opacity: 1;
}
.ss-photo-placeholder {
  width: 100%; aspect-ratio: 3/4;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  background: linear-gradient(135deg, var(--bg3), var(--surface3));
  font-size: 2.5rem; gap: 8px; color: var(--gold-dim);
}
.ss-photo-placeholder span { font-size: 0.68rem; color: var(--text-muted); letter-spacing: 1px; }

.ss-photo {
  width: 100%; aspect-ratio: 3/4;
  object-fit: cover; display: block;
}

/* Text panel */
.ss-text {
  flex: 1; min-width: 0;
  transform: translateX(20px);
  opacity: 0;
  transition: transform 0.8s ease 0.25s, opacity 0.8s ease 0.25s;
}
.story-scene.split.flipped .ss-text {
  transform: translateX(-20px);
}
.story-scene.active .ss-text {
  transform: translateX(0); opacity: 1;
}
.story-scene.active.split.flipped .ss-text {
  transform: translateX(0);
}

.ss-eyebrow {
  font-size: 0.65rem; letter-spacing: 4px;
  text-transform: uppercase; color: var(--gold);
  margin-bottom: 10px; display: block;
}
.ss-headline {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.5rem, 4.5vw, 2.4rem);
  font-weight: 300; font-style: italic;
  color: var(--text); line-height: 1.25;
  margin-bottom: 14px;
}
.ss-desc {
  font-size: clamp(0.82rem, 2vw, 0.95rem);
  color: var(--text-dim); line-height: 1.75;
  font-weight: 300;
}
.ss-quote {
  margin-top: 16px;
  font-size: clamp(0.82rem, 2vw, 0.9rem);
  color: var(--rose);
  font-style: italic; line-height: 1.65;
  padding-left: 14px;
  border-left: 2px solid var(--rose-dim);
  font-weight: 300;
}
.ss-line {
  width: 0; height: 1px;
  background: linear-gradient(90deg, var(--gold), transparent);
  margin: 14px 0;
  transition: width 0.9s ease 0.4s;
}
.story-scene.active .ss-line { width: 60px; }

/* Future chapter placeholder */
.ss-future .ss-headline { opacity: 0.5; }
.ss-future .ss-desc { opacity: 0.45; }
.ss-future .ss-photo-wrap { opacity: 0.4 !important; border-style: dashed; }

/* Centered header scene */
.ss-center-glyph {
  font-size: clamp(2.5rem, 6vw, 4rem);
  opacity: 0; transform: scale(0.6);
  transition: opacity 0.7s ease, transform 0.7s cubic-bezier(0.34,1.56,0.64,1);
  margin-bottom: 22px;
  filter: drop-shadow(0 0 28px rgba(201,138,138,0.6));
}
.story-scene.active .ss-center-glyph { opacity: 1; transform: scale(1); }
.ss-center-eyebrow {
  font-size: 0.7rem; letter-spacing: 5px;
  text-transform: uppercase; color: var(--gold);
  margin-bottom: 14px;
  opacity: 0; transform: translateY(12px);
  transition: opacity 0.7s ease 0.15s, transform 0.7s ease 0.15s;
}
.ss-center-headline {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(2.2rem, 6vw, 4rem);
  font-weight: 300; font-style: italic;
  color: var(--text); text-align: center;
  line-height: 1.2;
  opacity: 0; transform: translateY(18px);
  transition: opacity 0.8s ease 0.25s, transform 0.8s ease 0.25s;
  max-width: 560px;
}
.ss-center-sub {
  font-size: clamp(0.88rem, 2vw, 1.05rem);
  color: var(--text-dim); text-align: center;
  max-width: 420px; line-height: 1.75;
  margin-top: 18px; font-weight: 300;
  opacity: 0; transform: translateY(12px);
  transition: opacity 0.8s ease 0.35s, transform 0.8s ease 0.35s;
}
.ss-center-line {
  width: 0; height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  margin: 20px auto 0;
  transition: width 0.9s ease 0.35s;
}
.story-scene.active .ss-center-eyebrow,
.story-scene.active .ss-center-headline,
.story-scene.active .ss-center-sub { opacity:1; transform:translateY(0); }
.story-scene.active .ss-center-line { width: 100px; }

/* Progress bar at bottom of story page */
#story-progress-wrap {
  position: absolute; bottom: 0; left: 0; right: 0;
  height: 2px; background: var(--border); z-index: 10;
}
#story-progress-bar {
  height: 100%; width: 0;
  background: linear-gradient(90deg, var(--gold-dim), var(--gold));
  transition: width 0.1s linear;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   PAGE 2 â€” VALENTINE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#page-letter { background: var(--bg2); }

.page-header {
  padding: 56px 28px 32px; text-align: center;
}
.page-header-eyebrow {
  font-size: 0.7rem; letter-spacing: 5px;
  text-transform: uppercase; color: var(--gold); margin-bottom: 14px;
}
.page-header h1 {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(2rem, 6vw, 3.2rem);
  font-weight: 300; font-style: italic;
  color: var(--text); line-height: 1.2;
}
.page-header p { font-size: 0.9rem; color: var(--text-dim); margin-top: 10px; font-weight: 300; }

.accordion {
  margin: 0 20px 16px;
  border: 1px solid var(--border); border-radius: 14px;
  overflow: hidden; background: var(--surface);
  transition: border-color 0.3s;
}
.accordion.open { border-color: var(--border2); }
.accordion-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 20px 22px; cursor: pointer; user-select: none;
}
.accordion-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.2rem; font-style: italic;
  color: var(--text); font-weight: 400;
}
.accordion-icon {
  font-size: 1.2rem; color: var(--gold);
  transition: transform 0.35s ease;
  flex-shrink: 0; margin-left: 12px;
}
.accordion.open .accordion-icon { transform: rotate(45deg); }
.accordion-body {
  max-height: 0; overflow: hidden;
  transition: max-height 0.5s ease, opacity 0.5s ease; opacity: 0;
}
.accordion.open .accordion-body { max-height: 600px; opacity: 1; }
.accordion-inner {
  padding: 0 22px 22px;
  border-top: 1px solid var(--border);
  padding-top: 18px;
}
.accordion-inner p {
  font-size: 1.05rem; line-height: 1.85;
  color: var(--text-dim); font-weight: 300; margin-bottom: 12px;
}
.accordion-inner p:last-child { margin-bottom: 0; }

.val-card {
  margin: 0 20px 20px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 18px; overflow: hidden;
}
.val-card-header { padding: 28px 28px 24px; text-align: center; }
.val-card-glyph { font-size: 2.4rem; filter: drop-shadow(0 0 18px rgba(201,138,138,0.55)); }
.val-card-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.6rem; font-style: italic; font-weight: 300;
  color: var(--text); margin-top: 12px; line-height: 1.3;
}
.val-card-sub { font-size: 0.88rem; color: var(--text-dim); margin-top: 8px; font-weight: 300; }
.val-btns {
  display: flex; gap: 14px; justify-content: center;
  padding: 0 28px 28px; position: relative; min-height: 90px; align-items: center;
}
.btn-yes {
  font-family: 'Inter', sans-serif;
  font-size: 1rem; font-weight: 500;
  padding: 14px 40px;
  background: linear-gradient(135deg, #b8884a, var(--gold));
  color: #0e0c08; border: none; border-radius: 50px;
  cursor: pointer; letter-spacing: 0.5px;
  box-shadow: 0 4px 24px rgba(226,185,122,0.28);
  transition: all 0.3s ease;
}
.btn-yes:hover { transform: translateY(-2px); box-shadow: 0 8px 36px rgba(226,185,122,0.42); }
.btn-no {
  font-family: 'Inter', sans-serif;
  font-size: 0.85rem; font-weight: 400;
  padding: 12px 24px;
  background: var(--surface2);
  color: var(--text-muted); border: 1px solid var(--border);
  border-radius: 50px; cursor: pointer;
  transition: all 0.3s ease; z-index: 1;
}
.btn-no.flee {
  position: absolute !important;
  transition: all 0.12s ease-out !important;
  z-index: 100 !important;
  animation: noPulse 0.5s ease infinite;
}
@keyframes noPulse {
  0%,100% { box-shadow: 0 0 0 0 rgba(201,138,138,0.3); }
  50%      { box-shadow: 0 0 0 6px rgba(201,138,138,0); }
}
.val-reveal {
  max-height: 0; overflow: hidden; opacity: 0;
  transition: max-height 0.9s ease, opacity 0.9s ease, margin 0.9s ease;
}
.val-reveal.open { max-height: 700px; opacity: 1; margin-top: 0; }
.val-reveal-inner {
  padding: 0 28px 32px;
  border-top: 1px solid var(--border);
}
.val-photo {
  width: 100%; max-width: 180px; border-radius: 12px;
  display: block; margin: 24px auto 20px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.5);
}
.val-reveal-inner p {
  font-size: 1.05rem; font-style: italic;
  line-height: 1.85; color: var(--text-dim);
  font-weight: 300; margin-bottom: 14px; text-align: center;
}
.val-reveal-inner .val-sign {
  text-align: center; color: var(--gold);
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.4rem; font-style: italic; margin-top: 10px;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   PAGE 3 â€” COUNTDOWN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#page-countdown { background: var(--bg2); }

.cd-hero {
  min-height: 50vh;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  padding: 60px 28px 40px;
  text-align: center; position: relative;
}
.cd-glow {
  position: absolute; inset: 0;
  background: radial-gradient(ellipse at 50% 65%, rgba(226,185,122,0.07) 0%, transparent 68%);
  pointer-events: none;
}
.cd-eyebrow {
  font-size: 0.7rem; letter-spacing: 5px;
  text-transform: uppercase; color: var(--gold); margin-bottom: 14px;
}
.cd-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(1.8rem, 5vw, 2.8rem);
  font-weight: 300; font-style: italic;
  color: var(--text); line-height: 1.2; margin-bottom: 8px;
}
.cd-date { font-size: 0.85rem; color: var(--gold); letter-spacing: 2px; margin-bottom: 40px; font-weight: 500; }
.cd-grid {
  display: grid; grid-template-columns: repeat(4, 1fr);
  gap: 10px; width: 100%; max-width: 480px; margin: 0 auto;
}
.cd-unit {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: 14px; padding: 18px 8px;
  display: flex; flex-direction: column; align-items: center; gap: 6px;
  transition: border-color 0.3s;
}
.cd-unit:hover { border-color: var(--border2); }
.cd-num {
  font-family: 'Cormorant Garamond', serif;
  font-size: 2.4rem; font-weight: 300;
  color: var(--gold); line-height: 1;
  text-shadow: 0 0 24px rgba(226,185,122,0.45);
}
.cd-label { font-size: 0.6rem; text-transform: uppercase; letter-spacing: 2px; color: var(--text-muted); }
.since-card {
  margin: 0 20px 20px;
  background: var(--surface); border: 1px solid var(--border);
  border-radius: 18px; padding: 30px 24px; text-align: center;
}


.since-label { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 3px; color: var(--gold-dim); margin-bottom: 14px; }
.since-main {
  font-family: 'Cormorant Garamond', serif;
  font-size: 2.6rem; font-weight: 300; color: var(--gold); margin-bottom: 6px;
}
.since-detail { font-size: 0.82rem; color: var(--text-muted); font-weight: 300; }
.since-desc { font-size: 0.95rem; color: var(--text-dim); margin-top: 16px; line-height: 1.7; font-weight: 300; font-style: italic; }

/* Progress bar */
.cd-progress-wrap {
  margin: 24px 20px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 24px;
}
.cd-progress-label {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 3px;
  color: var(--gold-dim);
  margin-bottom: 12px;
  text-align: center;
}
.cd-progress-bar-bg {
  width: 100%;
  height: 8px;
  background: var(--surface2);
  border-radius: 4px;
  overflow: hidden;
  position: relative;
}
.cd-progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--gold-dim), var(--gold));
  border-radius: 4px;
  transition: width 0.3s ease;
  box-shadow: 0 0 12px rgba(226,185,122,0.4);
}
.cd-progress-text {
  text-align: center;
  margin-top: 12px;
  font-size: 0.85rem;
  color: var(--text-dim);
}
.cd-progress-percent {
  color: var(--gold);
  font-weight: 500;
  font-size: 1.1rem;
}

/* Weather card */
.weather-card {
  margin: 24px 20px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 28px 24px;
}
.weather-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.4rem;
  font-style: bold;
  color: var(--text);
  text-align: center;
  margin-bottom: 20px;
}
.weather-grid {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 20px;
  align-items: center;
}
.weather-location {
  text-align: center;
}
.weather-city {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  color: var(--gold-dim);
  margin-bottom: 8px;
}
.weather-temp {
  font-family: 'Cormorant Garamond', serif;
  font-size: 2.2rem;
  font-weight: 300;
  color: var(--gold);
  line-height: 1;
}
.weather-condition {
  font-size: 0.85rem;
  color: var(--text-dim);
  margin-top: 6px;
}
.weather-divider {
  font-size: 1.5rem;
  color: var(--border2);
}
.weather-message {
  text-align: center;
  font-size: 0.9rem;
  color: var(--text-dim);
  font-style: italic;
  margin-top: 18px;
  padding-top: 18px;
  border-top: 1px solid var(--border);
}

@media (max-width: 480px) {
  .weather-grid {
    grid-template-columns: 1fr;
    gap: 16px;
  }
  .weather-divider { display: none; }
}

/* Bucket list */
.bucket-card {
  margin: 0 20px 20px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 28px 24px;
}
.bucket-header {
  text-align: center;
  margin-bottom: 24px;
}
.bucket-glyph {
  font-size: 2.2rem;
  filter: drop-shadow(0 0 18px rgba(226,185,122,0.5));
  margin-bottom: 10px;
}
.bucket-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 1.6rem;
  font-style: italic;
  color: var(--text);
  margin-bottom: 6px;
}
.bucket-sub {
  font-size: 0.85rem;
  color: var(--text-dim);
}
.bucket-input-wrap {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}
.bucket-input {
  flex: 1;
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 12px 16px;
  color: var(--text);
  font-family: 'Inter', sans-serif;
  font-size: 0.9rem;
}
.bucket-input::placeholder {
  color: var(--text-muted);
}
.bucket-input:focus {
  outline: none;
  border-color: var(--border3);
}
.bucket-add-btn {
  padding: 12px 24px;
  background: linear-gradient(135deg, rgba(226,185,122,0.15), rgba(226,185,122,0.25));
  border: 1px solid var(--border2);
  border-radius: 12px;
  color: var(--gold);
  font-family: 'Inter', sans-serif;
  font-size: 0.85rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
}
.bucket-add-btn:hover {
  background: rgba(226,185,122,0.3);
  transform: translateY(-1px);
}
.bucket-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.bucket-item {
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 14px 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  transition: all 0.3s ease;
}
.bucket-item:hover {
  border-color: var(--border2);
}
.bucket-checkbox {
  width: 20px;
  height: 20px;
  border: 2px solid var(--border2);
  border-radius: 4px;
  cursor: pointer;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}
.bucket-checkbox.checked {
  background: var(--gold);
  border-color: var(--gold);
}
.bucket-checkbox.checked::after {
  content: 'âœ“';
  color: var(--bg);
  font-size: 14px;
  font-weight: bold;
}
.bucket-text {
  flex: 1;
  color: var(--text-dim);
  font-size: 0.95rem;
  transition: all 0.3s ease;
}
.bucket-item.checked .bucket-text {
  text-decoration: line-through;
  opacity: 0.5;
}
.bucket-delete {
  color: var(--text-muted);
  cursor: pointer;
  font-size: 1.2rem;
  padding: 4px;
  transition: color 0.3s ease;
  flex-shrink: 0;
}
.bucket-delete:hover {
  color: var(--rose);
}
.bucket-empty {
  text-align: center;
  color: var(--text-muted);
  font-size: 0.85rem;
  padding: 30px 20px;
  font-style: italic;
}


/* â”€â”€ UTILS â”€â”€ */
.divider {
  height: 1px; margin: 0 20px 24px;
  background: linear-gradient(90deg, transparent, var(--border2), transparent);
}
.click-heart {
  position: fixed; pointer-events: none;
  font-size: 24px; z-index: 9999;
  animation: heartPop 1s ease forwards;
}
@keyframes heartPop {
  0%   { opacity:0; transform:scale(0) rotate(0deg); }
  50%  { opacity:1; transform:scale(1.4) rotate(180deg); }
  100% { opacity:0; transform:scale(0.8) rotate(360deg); }
}
body::after {
  content: '';
  position: fixed; inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
  pointer-events: none; z-index: 9998; opacity: 0.35;
}

@media (max-width: 480px) {
  .story-scene.split { flex-direction: column !important; gap: 16px; }
  .ss-photo-wrap { width: min(70vw, 180px) !important; }
  .ss-photo { aspect-ratio: 4/3 !important; }
  .ss-photo-placeholder { aspect-ratio: 4/3 !important; }
  .cd-grid { grid-template-columns: repeat(2,1fr); gap: 12px; }
  #story-dots, #story-dots-2 { display:none; }
}
</style>
</head>
<body>

<!-- SPLASH -->
<div id="splash">
  <div class="splash-heart">â™¡</div>
  <div class="splash-name">Anchal</div>
  <div class="splash-sub">Something for you</div>
  <button class="splash-btn" onclick="enterApp()">Open â™¡</button>
</div>

<!-- GLOBAL PARTICLE LAYER â€” fixed behind all pages -->
<canvas id="particle-canvas" style="position:fixed;inset:0;width:100vw;height:100vh;pointer-events:none;z-index:500;opacity:0.55;"></canvas>

<!-- APP -->
<div id="app" style="z-index:1;">
  <div id="pages">

    <!-- â•â• PAGE 0: INTRO â•â• -->
    <div class="page active" id="page-intro">
      <div id="scroll-story">
        <div id="story-sticky">
          <!-- particle canvas is global, see body -->
          <div id="story-dots">
            <div class="sdot active"></div>
            <div class="sdot"></div>
            <div class="sdot"></div>
            <div class="sdot"></div>
            <div class="sdot"></div>
            <div class="sdot"></div>
          </div>
          <div id="scroll-hint">
            <svg viewBox="0 0 24 24"><path d="M12 5v14M5 12l7 7 7-7"/></svg>
            scroll
          </div>

          <div class="scene active" id="sc0">
            <div class="scene-glyph">â™¡</div>
            <div class="scene-eyebrow"><p id="currentDate"></p></div>
            <div class="scene-headline">To My Pyari Bana</div>
            <div class="scene-line"></div>
          </div>
          <div class="scene" id="sc1">
            <div class="scene-eyebrow">November 3, 2024</div>
            <div class="scene-headline">It started with<br>one meme <br> (shared by you).</div>
            <div class="scene-line"></div>
            <div class="scene-sub">Neither of us knew what that first conversation would become.</div>
          </div>
          <div class="scene" id="sc2">
            <div class="scene-eyebrow">November - December 2025</div>
            <div class="scene-headline"> Call of Duty <br> Skribble.io <br> Ludo </div>
            <div class="scene-line"></div>
            <div class="scene-sub"></div>
          </div>
          <div class="scene" id="sc3">
            <div class="scene-eyebrow">Canada Â· India</div>
            <div class="scene-headline">Oceans Apart.<br>Talking all day<br></div>
            <div class="scene-line"></div>
            <div class="scene-sub">Call of duty became the best part of my day.</div>
          </div>
          <div class="scene" id="sc4">
            <div class="scene-eyebrow">January 2, 2026</div>
            <div class="scene-headline">Our First Actual Meeting<br></div>
            <div class="scene-line"></div>
            <div class="scene-sub">Nerves. Excitement. Cuddles. Cute</div>
          </div>
          <div class="scene" id="sc5">
            <div class="scene-eyebrow">Today</div>
            <div class="scene-glyph">ğŸ’•</div>
            <div class="scene-headline">Every notification from you still makes me wanna jump<br></div>
            <div class="scene-line"></div>
            <div class="scene-sub">Explore the rest below â€” there's more waiting for you â™¡</div>
          </div>
        </div>
      </div>
    </div>

    <!-- â•â• PAGE 1: OUR STORY â€” SCROLLYTELLING â•â• -->
    <div class="page" id="page-story">
      <div id="story-scroll">
        <div id="story-sticky-2">

          <div id="story-dots-2">
            <div class="sdot active"></div>
            <div class="sdot"></div>
            <div class="sdot"></div>
            <div class="sdot"></div>
            <div class="sdot"></div>
            <div class="sdot"></div>
          </div>

          <div id="scroll-hint-2">
            <svg viewBox="0 0 24 24"><path d="M12 5v14M5 12l7 7 7-7"/></svg>
            scroll
          </div>

          <div id="story-progress-wrap">
            <div id="story-progress-bar"></div>
          </div>

          <!-- Scene 0 â€” Header -->
          <div class="story-scene centered active" id="ss0">
            <div class="ss-center-glyph">ğŸ“–</div>
            <div class="ss-center-eyebrow">A Timeline</div>
            <div class="ss-center-headline">Our Story So Far</div>
            <div class="ss-center-line"></div>
            <div class="ss-center-sub">Scroll through the memories.</div>
          </div>

          <!-- Scene 1 â€” Misty Mount -->
          <div class="story-scene split" id="ss1">
            <div class="ss-photo-wrap">
              <img class="ss-photo" src="https://i.imgur.com/IyMsuxT_d.webp?maxwidth=760&fidelity=grand" alt="Mussourie Misty Mount" style="object-fit:contain;">
            </div>
            <div class="ss-photo-wrap">
                <img class="ss-photo" src="https://i.imgur.com/ebyfQBa.jpeg" style="object-fit:contain;">
    
              </div>
            <div class="ss-text">
              <span class="ss-eyebrow">January 2026 Â· Mussourie</span>
              <div class="ss-line"></div>
              <div class="ss-headline">Misty Mount</div>
              <p class="ss-desc">Nice View, First Fight, Blue Eyes, Tussi Jithe Vi Jaune Ho, </p>
              <p class="ss-quote">"Koi Kutta Hi Hoga Jiski Hoodie Yaha Padi Hai x 5"</p>
            </div>
              
          </div>

          <!-- Scene 2 â€” Mussourie flipped -->
          <div class="story-scene split flipped" id="ss2">
            <div class="ss-photo-wrap">
              <img class="ss-photo" src="https://i.imgur.com/MLmmacU.jpeg" alt="Mussourie" style="object-fit:contain;">
            </div>
            
            <div class="ss-photo-wrap">
                <img class="ss-photo" src="https://i.imgur.com/1CRPEBW.jpeg" style="object-fit:contain;">
            </div>
            
            
            <div class="ss-text">
              <span class="ss-eyebrow">January 2026 Â· Mussourie</span>
              <div class="ss-line"></div>
              <div class="ss-headline">Baby got sick + Baby got well + View + Kachi Maggi + Meethi Coffee</div>
              <p class="ss-desc">Kadhai Paneer + Diet Coke x 100</p>
              <p class="ss-quote">"Naman: Bhaiya tum peete ho kya"</p>
            </div>
          </div>


          <!-- Scene 3 â€” Noida Painting -->
          <div class="story-scene split" id="ss2">
            <div class="ss-photo-wrap">
              <img class="ss-photo" src="https://i.imgur.com/iycf9hd.jpeg" alt="Mussourie" style="object-fit:contain;">
            </div>
            
            <div class="ss-photo-wrap">
                <img class="ss-photo" src="https://i.imgur.com/9ybx9H5.jpeg" style="object-fit:contain;">
            </div>
            
              
            <div class="ss-text">
              <span class="ss-eyebrow">January 2026 Â· Noida</span>
              <div class="ss-line"></div>
              <div class="ss-headline">Artist Giri</div>
              <p class="ss-desc">Winner: Shubham | Loser: Anchal/Harshita </p>
              <p class="ss-quote">"HuiHuiHui"</p>
            </div>
          </div>

          <!-- Scene 4 Flipped -->
          <div class="story-scene split ss-flipped" id="ss3">
            <div class="ss-photo-wrap">
              <img class="ss-photo" src="https://i.imgur.com/lkUplAy.jpeg" alt="Bhimtaal" style="object-fit:contain;">
            </div>
            <div class="ss-photo-wrap">
                <img class="ss-photo" src="https://i.imgur.com/H4drj6K.jpeg" style="object-fit:contain;">
            </div>
            <div class="ss-text">
              <span class="ss-eyebrow">February 2026 Â· Bhimtaal / Mussourie</span>
              <div class="ss-line"></div>
              <div class="ss-headline">Beautiful Place</div>
              <p class="ss-desc">Gadeni Stays + Sunder + Ladai + Stars + Halo</p>
              <p class="ss-quote">"Kainchi Dham | Hanuman Garhi | Khurpatal"</p>
            </div>
          </div>

          <!-- Scene 5 -->
          <div class="story-scene split" id="ss4">
            <div class="ss-photo-wrap">
              <img class="ss-photo" src="https://i.imgur.com/vRJ7ivD.jpeg" alt="Noida" style="object-fit:contain;">
            </div>
            <div class="ss-text">
              <span class="ss-eyebrow">February 2026 Â· Noida</span>
              <div class="ss-line"></div>
              <div class="ss-headline">We Cried | We Back</div>
              <p class="ss-desc">Idontknowwhattosay</p>
              <p class="ss-quote">"..What is meant for you will always find its way back.."</p>
            </div>
          </div>

          <!-- Scene 6 â€” Video call -->
          <div class="story-scene split ss-flipped" id="ss5">
            <div class="ss-photo-wrap">
              <img class="ss-photo" src="https://i.imgur.com/ZlEMGcr.jpeg" alt="Video Call" style="object-fit:contain;">
            </div>
            <div class="ss-text">
              <span class="ss-eyebrow">February 2026 Â· Canada / India</span>
              <div class="ss-line"></div>
              <div class="ss-headline">Video Call</div>
              <p class="ss-desc">215 -> 57 days, 40 se niche pata ni kab jayega</p>
              <p class="ss-quote">"Coming Home"</p>
            </div>
          </div>

          <!-- Scene 7 â€” Coming soon -->
          <div class="story-scene centered ss-future" id="ss6">
            <div class="ss-photo-wrap" style="width:min(55vw,200px); aspect-ratio:1; border-radius:50%;">
              <div class="ss-photo-placeholder" style="aspect-ratio:1; border-radius:50%; font-size:3rem;">ğŸŒ¸<span>Coming soon</span></div>
            </div>
            <div class="ss-center-eyebrow" style="margin-top:28px;">April 2026</div>
            <div class="ss-center-headline" style="opacity:0.5;">The Next Chapter</div>
            <div class="ss-center-line"></div>
            <div class="ss-center-sub" style="opacity:0.45;">Bla.</div>
          </div>

        </div>
      </div>
    </div>

    <!-- â•â• PAGE 2: VALENTINE â•â• -->
    <div class="page" id="page-letter">
      <div class="page-header">
        <div class="page-header-eyebrow">From Me to You</div>
        <h1>Happy Valentine's Day</h1>
        <p>Some things needed saying first</p>
      </div>

      <div class="accordion" id="acc1">
        <div class="accordion-header" onclick="toggleAcc('acc1')">
          <span class="accordion-title">Something I needed to say</span>
          <span class="accordion-icon">+</span>
        </div>
        <div class="accordion-body">
          <div class="accordion-inner">
            <p>I know I messed up before. I let my behavior push you away, and I've thought about it every single day since. You deserved better then, and I want you to know that I see that now. I'm genuinely sorry for the hurt I caused.</p>
            <p>I don't want to dwell on the past, but I needed you to know that I recognize what happened and I'm working on being better.</p>
          </div>
        </div>
      </div>

      <div class="accordion" id="acc2">
        <div class="accordion-header" onclick="toggleAcc('acc2')">
          <span class="accordion-title">And here's what I really feel</span>
          <span class="accordion-icon">+</span>
        </div>
        <div class="accordion-body">
          <div class="accordion-inner">
            <p>Since Bhimtaal and being back here in Canada, talking to you on video calls has been the best part of my last few days. The way you smile, the way we can just talk about anything, the way things feel so easy and right between us again...</p>
            <p>You're that person who makes everything better. You're the one I want to tell about my day. You're the one who gets me in ways that feel rare and special.</p>
          </div>
        </div>
      </div>

      <div class="divider"></div>

      <div class="accordion" id="acc3">
  <div class="accordion-header" onclick="toggleAcc('acc3')">
    <span class="accordion-title">Will you be my Valentine? ğŸ’•</span>
    <span class="accordion-icon">+</span>
  </div>
  <div class="accordion-body">
    <div class="accordion-inner" style="padding-top: 0;">
      <div class="val-card" style="margin: 0; border: none; padding: 20px 0;">
        <div class="val-card-header" style="padding-top: 0;">
          <div class="val-card-sub">Only one right answer here.</div>
        </div>
        <div class="val-btns" id="valBtns">
          <button class="btn-yes" id="btnYes" onclick="handleYes()">Yes, always ğŸ’–</button>
          <button class="btn-no" id="btnNo" onclick="handleNo()" onmouseenter="escapeNo()"><span id="noTxt">No</span></button>
        </div>
        <div class="val-reveal" id="valReveal">
          <div class="val-reveal-inner">
            <img id="ourPhoto" src="" alt="Us" class="val-photo">
            <p>I knew you'd say yes. ğŸ¥°</p>
            <p>"Every video call with you feels like coming home. Every laugh we share reminds me why I fell for you in the first place."</p>
            <p>"I don't know exactly where we're going, but I know I want to figure it out with you."</p>
            <div class="val-sign">Happy Valentine's Day â™¡</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

      <div class="divider"></div>

      <!-- ADD BUCKET LIST HERE â†“ -->
<div class="bucket-card">
  <div class="bucket-header">
    <div class="bucket-glyph">âœ¨</div>
    <div class="bucket-title">Things to Do</div>
    <div class="bucket-sub">Our bucket list for when we meet</div>
  </div>
  <div class="bucket-input-wrap">
    <input type="text" class="bucket-input" id="bucketInput" placeholder="Things we'll do together..">
    <button class="bucket-add-btn" onclick="addBucketItem()">Add</button>
  </div>
  <div class="bucket-list" id="bucketList">
    <div class="bucket-empty">Start adding things you want to do together! ğŸ’•</div>
  </div>
</div>

    </div>

    <!-- â•â• PAGE 3: COUNTDOWN â•â• -->
     
    <div class="page" id="page-countdown">
      <div class="cd-hero">
        <div class="cd-glow"></div>
        <div class="cd-eyebrow">The Wait</div>
        <div class="cd-title">Until We're in the<br>Same Room Again</div>
        <div class="cd-date">April 11, 2026</div>
        <div class="cd-grid">
          <div class="cd-unit"><span class="cd-num" id="cdDays">0</span><span class="cd-label">Days</span></div>
          <div class="cd-unit"><span class="cd-num" id="cdHours">0</span><span class="cd-label">Hours</span></div>
          <div class="cd-unit"><span class="cd-num" id="cdMins">0</span><span class="cd-label">Mins</span></div>
          <div class="cd-unit"><span class="cd-num" id="cdSecs">0</span><span class="cd-label">Secs</span></div>
        </div>
      </div>

      <!-- PROGRESS BAR HERE â†“ --> 
       <div class="cd-progress-wrap">
    <div class="cd-progress-label">Progress since 9th Feb 2026</div>
    <div class="cd-progress-bar-bg">
      <div class="cd-progress-bar-fill" id="cdProgressFill"></div>
    </div>
    <div class="cd-progress-text">
      <span class="cd-progress-percent" id="cdProgressPercent">0%</span> complete
    </div>
  </div>


  <!-- ADD WEATHER HERE â†“ -->
  <div class="weather-card">
    <div class="weather-title">Right Now ğŸŒ</div>
    <div class="weather-grid">
      <div class="weather-location">
        <div class="weather-city">Toronto, Canada</div>
        <div class="weather-temp" id="weatherToronto">--Â°</div>
        <div class="weather-condition" id="conditionToronto">Loading...</div>
      </div>
      <div class="weather-divider">|</div>
      <div class="weather-location">
        <div class="weather-city">Delhi, India</div>
        <div class="weather-temp" id="weatherDelhi">--Â°</div>
        <div class="weather-condition" id="conditionDelhi">Loading...</div>
      </div>
    </div>
    <div class="weather-message">"We share the same sky â˜ï¸"</div>
  </div>
  <!-- ADD WEATHER ABOVE â†‘ -->


      <div class="since-card">
        <div class="since-label">Time Since We Started Talking</div>
        <div class="since-main" id="sinceMain">...</div>
        <div class="since-detail" id="sinceDetail">...</div>
        <div class="since-desc">"And every single moment has reminded me how special you are."</div>
      </div>
   
    </div>

  </div><!-- /pages -->

  <nav id="nav">
    <button class="nav-item active" onclick="goTo(0)" id="ni0">
      <span class="nav-icon">âœ¦</span>
      <span class="nav-label">Intro</span>
      <span class="nav-pip"></span>
    </button>
    <button class="nav-item" onclick="goTo(1)" id="ni1">
      <span class="nav-icon">ğŸ“–</span>
      <span class="nav-label">Our Story</span>
      <span class="nav-pip"></span>
    </button>
    <button class="nav-item" onclick="goTo(2)" id="ni2">
      <span class="nav-icon">ğŸ’Œ</span>
      <span class="nav-label">Valentine</span>
      <span class="nav-pip"></span>
    </button>
    <button class="nav-item" onclick="goTo(3)" id="ni3">
      <span class="nav-icon">â³</span>
      <span class="nav-label">Countdown</span>
      <span class="nav-pip"></span>
    </button>
  </nav>
</div>

<script>
/* â•â• SPLASH â•â• */
function enterApp() {
  document.getElementById('splash').classList.add('gone');
  const app = document.getElementById('app');
  app.classList.add('visible');
  initParticles();
  initStory();
  initStoryPage();
  startCounters();
  updateWeather();
  const today = new Date();
  document.getElementById('currentDate').textContent =
    today.toLocaleDateString('en-US', { year:'numeric', month:'long', day:'numeric' });
}

/* â•â• NAVIGATION â•â• */
const pageIds = ['page-intro','page-story','page-letter','page-countdown'];
let currentPage = 0;

function goTo(idx) {
  if (idx === currentPage) return;
  const prev = document.getElementById(pageIds[currentPage]);
  const next = document.getElementById(pageIds[idx]);
  prev.classList.remove('active');
  prev.classList.add(idx > currentPage ? 'exit-left' : 'exit-right');
  setTimeout(() => prev.classList.remove('exit-left','exit-right'), 500);
  next.style.transform = idx > currentPage ? 'translateX(30px)' : 'translateX(-30px)';
  next.style.opacity = '0';
  requestAnimationFrame(() => {
    next.classList.add('active');
    next.style.transform = '';
    next.style.opacity = '';
  });
  document.querySelectorAll('.nav-item').forEach((n,i) => n.classList.toggle('active', i===idx));
  currentPage = idx;
}

/* â•â• INTRO SCROLLYTELLING â•â• */
function initStory() {
  const story  = document.getElementById('scroll-story');
  const page   = document.getElementById('page-intro');
  const scenes = document.querySelectorAll('#page-intro .scene');
  const dots   = document.querySelectorAll('#story-dots .sdot');
  const hint   = document.getElementById('scroll-hint');
  const N = scenes.length;

  page.addEventListener('scroll', () => {
    const scrolled = page.scrollTop;
    const total = story.offsetHeight - page.clientHeight;
    const p = Math.max(0, Math.min(1, scrolled / total));
    const idx = Math.min(N-1, Math.round(p * (N-1)));
    scenes.forEach((s,i) => s.classList.toggle('active', i===idx));
    dots.forEach((d,i)   => d.classList.toggle('active', i===idx));
    hint.style.opacity = idx === 0 ? '1' : '0';
  }, { passive: true });
}

/* â•â• OUR STORY PAGE SCROLLYTELLING â•â• */
function initStoryPage() {
  const storyScroll = document.getElementById('story-scroll');
  const page        = document.getElementById('page-story');
  const scenes      = document.querySelectorAll('#story-sticky-2 .story-scene');
  const dots        = document.querySelectorAll('#story-dots-2 .sdot');
  const hint        = document.getElementById('scroll-hint-2');
  const progressBar = document.getElementById('story-progress-bar');
  const N = scenes.length;

  page.addEventListener('scroll', () => {
    const scrolled = page.scrollTop;
    const total    = storyScroll.offsetHeight - page.clientHeight;
    const p        = Math.max(0, Math.min(1, scrolled / total));
    const idx      = Math.min(N-1, Math.round(p * (N-1)));

    scenes.forEach((s,i) => s.classList.toggle('active', i===idx));
    dots.forEach((d,i)   => d.classList.toggle('active', i===idx));
    hint.style.opacity   = idx === 0 ? '1' : '0';
    progressBar.style.width = (p * 100) + '%';
  }, { passive: true });
}

/* â•â• PARTICLES â€” global fixed canvas behind all pages â•â• */
function initParticles() {
  const canvas = document.getElementById('particle-canvas');
  const ctx = canvas.getContext('2d');
  let W, H, pts = [];

  function resize() {
    W = canvas.width  = window.innerWidth;
    H = canvas.height = window.innerHeight;
    pts.forEach(p => { p.x = Math.random() * W; p.y = Math.random() * H; });
  }

  function Pt() {
    this.reset = () => {
      this.x = Math.random() * W;
      this.y = H + Math.random() * 40;
      this.r = Math.random() * 1.6 + 0.3;
      this.vy = Math.random() * 0.35 + 0.08;
      this.vx = (Math.random() - 0.5) * 0.25;
      this.a  = Math.random() * 0.45 + 0.08;
      this.heart = Math.random() > 0.88;
      this.fs = Math.random() * 9 + 7;
    };
    this.reset();
    this.y = Math.random() * H;
  }

  W = canvas.width  = window.innerWidth;
  H = canvas.height = window.innerHeight;
  pts = Array.from({length: 70}, () => new Pt());
  window.addEventListener('resize', resize);

  (function loop() {
    ctx.clearRect(0,0,W,H);
    pts.forEach(p => {
      ctx.save();
      ctx.globalAlpha = p.a;
      if (p.heart) {
        ctx.fillStyle = '#c98a8a';
        ctx.font = `${p.fs}px serif`;
        ctx.fillText('â™¡', p.x, p.y);
      } else {
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fillStyle = Math.random() > 0.5 ? '#e2b97a' : '#c98a8a';
        ctx.fill();
      }
      ctx.restore();
      p.y -= p.vy; p.x += p.vx;
      if (p.y < -20) p.reset();
    });
    requestAnimationFrame(loop);
  })();
}

/* â•â• ACCORDION â•â• */
function toggleAcc(id) {
  document.getElementById(id).classList.toggle('open');
}

/* â•â• VALENTINE â•â• */
let noCount = 0, noBtnSize = 1, yesBtnSize = 1;
const noMsgs = ["No","Are you sure? ğŸ¥º","Really? ğŸ˜¢","Pookie please? ğŸ¥¹","I'll be very sad ğŸ˜­","Pretty please? ğŸ™","Last chance! ğŸ’•"];

function handleYes() {
  document.getElementById('ourPhoto').src = 'https://i.imgur.com/FrabQE4.jpeg';
  document.getElementById('valBtns').style.display = 'none';
  document.getElementById('valReveal').classList.add('open');
  for (let i=0;i<25;i++) setTimeout(()=>spawnHeart(Math.random()*innerWidth, Math.random()*innerHeight), i*60);
  for (let i=0;i<40;i++) setTimeout(confetti, i*35);
}

function handleNo() {
  noCount++;
  const nb = document.getElementById('btnNo'), yb = document.getElementById('btnYes');
  if (noCount < noMsgs.length) {
    document.getElementById('noTxt').textContent = noMsgs[noCount];
    noBtnSize = Math.max(0.6, noBtnSize - 0.12);
    nb.style.fontSize = noBtnSize + 'rem';
    yesBtnSize += 0.18;
    yb.style.fontSize = yesBtnSize + 'rem';
    yb.style.padding = (14 + noCount*3) + 'px ' + (40 + noCount*6) + 'px';
    if (noCount >= noMsgs.length - 1) nb.classList.add('flee');
  }
}

function escapeNo() {
  if (noCount >= noMsgs.length - 1) {
    const nb = document.getElementById('btnNo');
    const yb = document.getElementById('btnYes');
    const wrap = document.getElementById('valBtns');
    const wr = wrap.getBoundingClientRect(), yr = yb.getBoundingClientRect();
    let rx, ry, att = 0;
    do {
      const pad = 10;
      rx = Math.max(pad, Math.random() * (wr.width  - nb.offsetWidth  - pad));
      ry = Math.max(pad, Math.random() * (wr.height - nb.offsetHeight - pad));
      const nl=wr.left+rx, nr=nl+nb.offsetWidth, nt=wr.top+ry, nb_=nt+nb.offsetHeight;
      if (nr+20<yr.left||nl-20>yr.right||nb_+20<yr.top||nt-20>yr.bottom) break;
      att++;
    } while(att<20);
    nb.style.left=rx+'px'; nb.style.top=ry+'px';
  }
}

/* â•â• COUNTERS â•â• */
function startCounters() {
  function tick() {
    const diff = new Date('2026-04-10T18:30:00') - new Date();
    if (diff > 0) {
      document.getElementById('cdDays').textContent  = Math.floor(diff/86400000);
      document.getElementById('cdHours').textContent = Math.floor((diff%86400000)/3600000);
      document.getElementById('cdMins').textContent  = Math.floor((diff%3600000)/60000);
      document.getElementById('cdSecs').textContent  = Math.floor((diff%60000)/1000);
      // Progress bar calculation
    const startDate = new Date('2026-02-09T00:00:00');
    const endDate = new Date('2026-04-10T18:30:00');
    const totalTime = endDate - startDate;
    const elapsed = new Date() - startDate;
    const progressPercent = Math.min(100, Math.max(0, (elapsed / totalTime) * 100));
    
    document.getElementById('cdProgressFill').style.width = progressPercent + '%';
    document.getElementById('cdProgressPercent').textContent = progressPercent.toFixed(1) + '%';
    }
    const start = new Date('2025-11-03T00:00:00'), now = new Date();
    let months = (now.getFullYear()-start.getFullYear())*12+(now.getMonth()-start.getMonth());
    const after = new Date(start); after.setMonth(after.getMonth()+months);
    if (after>now){months--;after.setMonth(after.getMonth()-1);}
    const rem=now-after;
    const d=Math.floor(rem/86400000),h=Math.floor((rem%86400000)/3600000);
    const m=Math.floor((rem%3600000)/60000),s=Math.floor((rem%60000)/1000);
    document.getElementById('sinceMain').textContent  = months + ' months';
    document.getElementById('sinceDetail').textContent= `${d} days Â· ${h}h Â· ${m}m Â· ${s}s`;
  }
  tick(); setInterval(tick,1000);
}
/* â•â• WEATHER â•â• */
async function updateWeather() {
  try {
    // Toronto weather (43.65Â°N, -79.38Â°W)
    const torontoRes = await fetch('https://api.open-meteo.com/v1/forecast?latitude=43.65&longitude=-79.38&current=temperature_2m,weather_code&temperature_unit=celsius&timezone=America/Toronto');
    const torontoData = await torontoRes.json();
    const torontoTemp = Math.round(torontoData.current.temperature_2m);
    const torontoCondition = getWeatherCondition(torontoData.current.weather_code);
    document.getElementById('weatherToronto').textContent = torontoTemp + 'Â°C';
    document.getElementById('conditionToronto').textContent = torontoCondition;

    // Delhi weather (28.61Â°N, 77.23Â°E)
    const delhiRes = await fetch('https://api.open-meteo.com/v1/forecast?latitude=28.61&longitude=77.23&current=temperature_2m,weather_code&temperature_unit=celsius&timezone=Asia/Kolkata');
    const delhiData = await delhiRes.json();
    const delhiTemp = Math.round(delhiData.current.temperature_2m);
    const delhiCondition = getWeatherCondition(delhiData.current.weather_code);
    document.getElementById('weatherDelhi').textContent = delhiTemp + 'Â°C';
    document.getElementById('conditionDelhi').textContent = delhiCondition;
  } catch (err) {
    console.error('Weather error:', err);
    document.getElementById('weatherToronto').textContent = '--Â°C';
    document.getElementById('conditionToronto').textContent = 'Unable to load';
    document.getElementById('weatherDelhi').textContent = '--Â°C';
    document.getElementById('conditionDelhi').textContent = 'Unable to load';
  }
}

function getWeatherCondition(code) {
  const conditions = {
    0: 'Clear sky â˜€ï¸',
    1: 'Mainly clear ğŸŒ¤ï¸',
    2: 'Partly cloudy â›…',
    3: 'Overcast â˜ï¸',
    45: 'Foggy ğŸŒ«ï¸',
    48: 'Foggy ğŸŒ«ï¸',
    51: 'Light drizzle ğŸŒ¦ï¸',
    53: 'Drizzle ğŸŒ¦ï¸',
    55: 'Heavy drizzle ğŸŒ§ï¸',
    61: 'Light rain ğŸŒ§ï¸',
    63: 'Rain ğŸŒ§ï¸',
    65: 'Heavy rain ğŸŒ§ï¸',
    71: 'Light snow â„ï¸',
    73: 'Snow â„ï¸',
    75: 'Heavy snow â„ï¸',
    77: 'Snow grains â„ï¸',
    80: 'Rain showers ğŸŒ§ï¸',
    81: 'Rain showers ğŸŒ§ï¸',
    82: 'Heavy rain showers ğŸŒ§ï¸',
    85: 'Snow showers â„ï¸',
    86: 'Heavy snow showers â„ï¸',
    95: 'Thunderstorm â›ˆï¸',
    96: 'Thunderstorm â›ˆï¸',
    99: 'Thunderstorm â›ˆï¸'
  };
  return conditions[code] || 'Unknown';
}

/* â•â• BUCKET LIST â•â• */
let bucketItems = JSON.parse(localStorage.getItem('bucketList') || '[]');

function renderBucketList() {
  const list = document.getElementById('bucketList');
  if (bucketItems.length === 0) {
    list.innerHTML = '<div class="bucket-empty">Start adding things you want to do together! ğŸ’•</div>';
    return;
  }
  list.innerHTML = bucketItems.map((item, idx) => `
    <div class="bucket-item ${item.done ? 'checked' : ''}">
      <div class="bucket-checkbox ${item.done ? 'checked' : ''}" onclick="toggleBucket(${idx})"></div>
      <div class="bucket-text">${item.text}</div>
      <div class="bucket-delete" onclick="deleteBucket(${idx})">Ã—</div>
    </div>
  `).join('');
}

function addBucketItem() {
  const input = document.getElementById('bucketInput');
  const text = input.value.trim();
  if (!text) return;
  bucketItems.push({ text, done: false });
  localStorage.setItem('bucketList', JSON.stringify(bucketItems));
  input.value = '';
  renderBucketList();
  for (let i=0;i<8;i++) setTimeout(()=>spawnHeart(Math.random()*innerWidth, Math.random()*innerHeight), i*60);
}

function toggleBucket(idx) {
  bucketItems[idx].done = !bucketItems[idx].done;
  localStorage.setItem('bucketList', JSON.stringify(bucketItems));
  renderBucketList();
}

function deleteBucket(idx) {
  bucketItems.splice(idx, 1);
  localStorage.setItem('bucketList', JSON.stringify(bucketItems));
  renderBucketList();
}

// Allow Enter key to add items
document.addEventListener('DOMContentLoaded', () => {
  const input = document.getElementById('bucketInput');
  if (input) {
    input.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') addBucketItem();
    });
  }
  renderBucketList();
});


/* â•â• FX â•â• */
function spawnHeart(x,y) {
  const h=document.createElement('div');
  h.className='click-heart'; h.textContent='â™¡';
  h.style.cssText=`left:${x}px;top:${y}px;color:hsl(${Math.random()*30+345},65%,65%)`;
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),1000);
}

function confetti() {
  const c=document.createElement('div');
  c.style.cssText=`position:fixed;width:7px;height:7px;border-radius:50%;pointer-events:none;z-index:9999;background:hsl(${Math.random()*60+20},70%,65%);left:${Math.random()*innerWidth}px;top:-8px;animation:cf 2.5s ease-out forwards`;
  document.body.appendChild(c);
  setTimeout(()=>c.remove(),2600);
}
const cs=document.createElement('style');
cs.textContent='@keyframes cf{to{transform:translateY(100vh) rotate(540deg);opacity:0;}}';
document.head.appendChild(cs);

document.addEventListener('click', e => {
  if (!['btnYes','btnNo'].includes(e.target.id)) spawnHeart(e.clientX, e.clientY);
});
</script>
</body>
</html>

